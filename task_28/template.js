const container = document.createElement('article');

//Встроенный элемент <template> предназначен для хранения шаблона HTML.
//Содержимое шаблона доступно по его свойству content в качестве 
//DocumentFragment – особый тип DOM-узла. Когда мы клонируем и вставляем tmpl.content 
//то, так как это DocumentFragment, вместо него вставляются его потомки.
container.append(tmpl.content.cloneNode(true));

document.body.append(container);

const btn = document.getElementById('btn')

const lamp = document.getElementById('lamp')

//Создаем переменную для отслеживания состояния лампочки: включена ли она.
//Изначально лампочка выключена.
let isLightOff = true

const lampStates = {
    //Данные, с которыми мы будем работать, когда лампочка включена.
    'on': { 
        btnText: 'Turn off the light', 
        svg: `<svg 
            id="lamp" 
            enable-background="new 0 0 512 512" 
            viewBox="0 0 512 512" 
            xmlns="http://www.w3.org/2000/svg"
        >
            <g>
                <g>
                    <path 
                        d="m289.659 504.5h-67.319c-5.014 0-9.331-3.539-10.314-8.456l-9.529-47.643h107.004l-9.529 47.643c-.982 4.916-5.299 8.456-10.313 8.456z" 
                        fill="#b1abb4" 
                        style="fill: rgb(251, 251, 251);"
                    >
                    </path>
                </g>
                <g>
                    <path 
                        d="m279.502 448.401-9.529 47.643c-.983 4.917-5.3 8.456-10.314 8.456h30c5.014 0 9.331-3.539 10.314-8.456l9.529-47.643z" 
                        fill="#a29aa5" 
                        style="fill: rgb(251, 251, 251);"
                    >
                    </path>
                </g>
                <g>
                    <path 
                        d="m413.076 164.576c0-87.128-70.938-157.688-158.209-157.072-85.121.6-154.794 69.813-155.93 154.929-.489 36.674 11.595 70.504 32.213 97.463 23.117 30.226 35.092 67.512 35.092 105.565v1.372c0 7.87 6.38 14.25 14.25 14.25h151.017c7.87 0 14.25-6.38 14.25-14.25 0-38.726 12.155-76.653 35.537-107.523 19.945-26.334 31.78-59.151 31.78-94.734z" 
                        fill="#f7e365"
                    >
                    </path>
                </g>
                <g>
                    <path 
                        d="m254.867 7.503c-4.64.033-9.23.281-13.769.713 79.668 7.598 141.978 74.702 141.978 156.359 0 35.583-11.835 68.4-31.781 94.734-23.382 30.87-35.537 68.797-35.537 107.523 0 7.87-6.38 14.25-14.25 14.25h30c7.87 0 14.25-6.38 14.25-14.25 0-38.726 12.155-76.653 35.537-107.523 19.946-26.334 31.781-59.15 31.781-94.734 0-87.127-70.938-157.687-158.209-157.072z" 
                        fill="#f0d944"
                    >
                    </path>
                </g>
                <g>
                    <path 
                        d="m310.496 425.961h-108.992c-12.393 0-22.439-10.046-22.439-22.439 0-12.393 10.047-22.44 22.439-22.44h108.992c12.393 0 22.439 10.047 22.439 22.44 0 12.393-10.046 22.439-22.439 22.439z" 
                        fill="#fbfbfb"
                    >
                    </path>
                </g>
                <g>
                    <path 
                        d="m310.496 470.84h-108.992c-12.393 0-22.439-10.047-22.439-22.439 0-12.393 10.047-22.44 22.439-22.44h108.992c12.393 0 22.439 10.047 22.439 22.44 0 12.393-10.046 22.439-22.439 22.439z" 
                        fill="#fbfbfb"
                    >
                    </path>
                </g>
                <g>
                    <path 
                        d="m310.496 381.082h-30c12.393 0 22.439 10.046 22.439 22.439s-10.046 22.439-22.439 22.439h30c12.393 0 22.439-10.046 22.439-22.439s-10.046-22.439-22.439-22.439z" 
                        fill="#e7e7e7"
                    >
                    </path>
                </g>
                <g>
                    <path 
                        d="m310.496 425.961h-30c12.393 0 22.439 10.047 22.439 22.439 0 12.393-10.046 22.439-22.439 22.439h30c12.393 0 22.439-10.047 22.439-22.439 0-12.392-10.046-22.439-22.439-22.439z" 
                        fill="#e7e7e7">
                    </path>
                </g>
                <g>
                    <path 
                        d="m371.96 47.791c-31.348-31.128-72.945-48.069-117.146-47.788-37.233.263-73.697 13.445-102.675 37.119-3.208 2.621-3.684 7.345-1.063 10.553s7.346 3.684 10.553 1.063c26.337-21.516 59.468-33.497 93.29-33.735 40.167-.334 77.981 15.141 106.471 43.432 28.494 28.293 44.186 65.988 44.186 106.141 0 20.547-4.089 40.449-12.154 59.152-1.64 3.804.114 8.217 3.917 9.857.968.417 1.975.615 2.966.615 2.903 0 5.668-1.697 6.891-4.532 8.878-20.59 13.379-42.49 13.379-65.092.002-44.179-17.264-85.654-48.615-116.785z" 
                        fill="#000000"
                    >
                    </path>
                    <path 
                        d="m389.409 247.858c-3.401-2.362-8.075-1.519-10.438 1.885-1.178 1.696-2.407 3.392-3.654 5.038-23.898 31.551-37.059 71.345-37.059 112.051 0 3.722-3.028 6.75-6.75 6.75h-43.211v-118.162c0-15.533 3.496-31.173 10.108-45.229l39.048-82.998c1.763-3.748.154-8.216-3.594-9.979-3.749-1.763-8.216-.154-9.979 3.594l-10.465 22.244c-.075-.049-.145-.103-.222-.149-35.277-21.166-79.107-21.166-114.385 0-.077.046-.147.1-.222.149l-10.465-22.244c-1.764-3.748-6.231-5.357-9.98-3.594-3.748 1.764-5.357 6.231-3.594 9.979l39.048 82.998c6.613 14.056 10.108 29.696 10.108 45.229v118.162h-43.211c-3.722 0-6.749-3.028-6.749-6.75v-1.372c0-40.124-13.01-79.233-36.634-110.122-20.517-26.827-31.122-58.919-30.67-92.807.461-34.627 13.168-68.291 35.778-94.791 2.688-3.151 2.313-7.885-.837-10.574-3.151-2.688-7.885-2.313-10.574.837-24.878 29.158-38.858 66.209-39.366 104.327-.497 37.283 11.175 72.595 33.754 102.119 21.635 28.288 33.549 64.16 33.549 101.009v1.372c0 10.404 7.345 19.121 17.121 21.249-2.727 4.511-4.299 9.795-4.299 15.44 0 8.928 3.932 16.95 10.15 22.44-6.218 5.49-10.15 13.512-10.15 22.44 0 16.284 13.07 29.564 29.269 29.922l3.838 19.192c1.679 8.393 9.11 14.484 17.669 14.484h67.318c8.559 0 15.99-6.092 17.669-14.485l3.838-19.191c16.199-.359 29.269-13.638 29.269-29.922 0-8.928-3.932-16.95-10.151-22.44 6.218-5.49 10.151-13.512 10.151-22.44 0-5.645-1.572-10.929-4.299-15.44 9.776-2.128 17.121-10.845 17.121-21.249 0-37.457 12.081-74.034 34.016-102.995 1.372-1.811 2.724-3.675 4.02-5.542 2.362-3.399 1.518-8.073-1.884-10.435zm-184.504-91.374c.555-.174 1.1-.408 1.62-.72 30.517-18.311 68.433-18.311 98.949 0 .521.313 1.067.541 1.623.715l-22.265 47.326c-7.546 16.041-11.535 33.889-11.535 51.615v3.746h-34.594v-3.746c0-17.726-3.989-35.574-11.535-51.615zm33.798 117.682h34.594v99.416h-34.594zm50.956 222.834h-67.318c-1.434 0-2.679-1.02-2.96-2.426l-3.247-16.233h79.731l-3.246 16.232c-.281 1.406-1.526 2.427-2.96 2.427zm35.776-48.599c0 8.238-6.702 14.939-14.939 14.939h-108.992c-8.238 0-14.939-6.702-14.939-14.939 0-8.238 6.702-14.94 14.939-14.94h108.992c8.238 0 14.939 6.702 14.939 14.94zm-123.931-29.94c-8.238 0-14.939-6.702-14.939-14.94s6.702-14.939 14.939-14.939h108.992c8.238 0 14.939 6.702 14.939 14.939 0 8.238-6.702 14.94-14.939 14.94z" 
                        fill="#000000"
                    >
                    </path>
                </g>
            </g>
        </svg>`, 
    }, 
    //Данные, с которыми мы будет работать, когда лампочка выключена.
    'off': { 
        btnText: 'Turn on the light', 
        svg: `<svg 
            id="lamp" 
            enable-background="new 0 0 512 512" 
            viewBox="0 0 512 512" 
            xmlns="http://www.w3.org/2000/svg"
        >
            <g>
                <path 
                    d="m371.96 47.791c-31.348-31.128-72.945-48.069-117.146-47.788-37.233.263-73.697 13.445-102.675 37.119-3.208 2.621-3.684 7.345-1.063 10.553s7.346 3.684 10.553 1.063c26.337-21.516 59.468-33.497 93.29-33.735 40.167-.334 77.981 15.141 106.471 43.432 28.494 28.293 44.186 65.988 44.186 106.141 0 20.547-4.089 40.449-12.154 59.152-1.64 3.804.114 8.217 3.917 9.857.968.417 1.975.615 2.966.615 2.903 0 5.668-1.697 6.891-4.532 8.878-20.59 13.379-42.49 13.379-65.092.002-44.179-17.264-85.654-48.615-116.785z" 
                />
                <path 
                    d="m389.409 247.858c-3.401-2.362-8.075-1.519-10.438 1.885-1.178 1.696-2.407 3.392-3.654 5.038-23.898 31.551-37.059 71.345-37.059 112.051 0 3.722-3.028 6.75-6.75 6.75h-43.211v-118.162c0-15.533 3.496-31.173 10.108-45.229l39.048-82.998c1.763-3.748.154-8.216-3.594-9.979-3.749-1.763-8.216-.154-9.979 3.594l-10.465 22.244c-.075-.049-.145-.103-.222-.149-35.277-21.166-79.107-21.166-114.385 0-.077.046-.147.1-.222.149l-10.465-22.244c-1.764-3.748-6.231-5.357-9.98-3.594-3.748 1.764-5.357 6.231-3.594 9.979l39.048 82.998c6.613 14.056 10.108 29.696 10.108 45.229v118.162h-43.211c-3.722 0-6.749-3.028-6.749-6.75v-1.372c0-40.124-13.01-79.233-36.634-110.122-20.517-26.827-31.122-58.919-30.67-92.807.461-34.627 13.168-68.291 35.778-94.791 2.688-3.151 2.313-7.885-.837-10.574-3.151-2.688-7.885-2.313-10.574.837-24.878 29.158-38.858 66.209-39.366 104.327-.497 37.283 11.175 72.595 33.754 102.119 21.635 28.288 33.549 64.16 33.549 101.009v1.372c0 10.404 7.345 19.121 17.121 21.249-2.727 4.511-4.299 9.795-4.299 15.44 0 8.928 3.932 16.95 10.15 22.44-6.218 5.49-10.15 13.512-10.15 22.44 0 16.284 13.07 29.564 29.269 29.922l3.838 19.192c1.679 8.393 9.11 14.484 17.669 14.484h67.318c8.559 0 15.99-6.092 17.669-14.485l3.838-19.191c16.199-.359 29.269-13.638 29.269-29.922 0-8.928-3.932-16.95-10.151-22.44 6.218-5.49 10.151-13.512 10.151-22.44 0-5.645-1.572-10.929-4.299-15.44 9.776-2.128 17.121-10.845 17.121-21.249 0-37.457 12.081-74.034 34.016-102.995 1.372-1.811 2.724-3.675 4.02-5.542 2.362-3.399 1.518-8.073-1.884-10.435zm-184.504-91.374c.555-.174 1.1-.408 1.62-.72 30.517-18.311 68.433-18.311 98.949 0 .521.313 1.067.541 1.623.715l-22.265 47.326c-7.546 16.041-11.535 33.889-11.535 51.615v3.746h-34.594v-3.746c0-17.726-3.989-35.574-11.535-51.615zm33.798 117.682h34.594v99.416h-34.594zm50.956 222.834h-67.318c-1.434 0-2.679-1.02-2.96-2.426l-3.247-16.233h79.731l-3.246 16.232c-.281 1.406-1.526 2.427-2.96 2.427zm35.776-48.599c0 8.238-6.702 14.939-14.939 14.939h-108.992c-8.238 0-14.939-6.702-14.939-14.939 0-8.238 6.702-14.94 14.939-14.94h108.992c8.238 0 14.939 6.702 14.939 14.94zm-123.931-29.94c-8.238 0-14.939-6.702-14.939-14.94s6.702-14.939 14.939-14.939h108.992c8.238 0 14.939 6.702 14.939 14.939 0 8.238-6.702 14.94-14.939 14.94z" 
                />
            </g>
        </svg>`, 
    }
}

const changeLampState = (value) => {
    //Меняем надпись на кнопке.
    btn.innerHTML = lampStates[value].btnText
    
    //Меняем изображение.
    lamp.innerHTML = lampStates[value].svg
}

//Событие onclick активируется, когда пользователь кликает на кнопку 
//включения/выключения света.
btn.onclick = function() {
    //Проверяем выключена ли лампочка
    if (isLightOff) {
        //Включаем свет.
        changeLampState('on')

        //Меняем состояние лампочки: теперь она включена.
        isLightOff = !isLightOff
        
        return
    }

    //В противном случае выключаем свет.
    changeLampState('off')

    //Меняем состояние лампочки: теперь она выключена.
    isLightOff = !isLightOff
}

//Изначально лампочка должна быть выключена, поэтому вызываем функцию, передавая 
//ей соответствующий аргумент.
changeLampState('off')